<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>RegExp</title>
    <script type="text/javascript">

        // Метасимволы.
        // \w Любой алфавитно-цифровой символ в верхнем и нижнем регистре и символ подчеркивания(тоже самое, что и [a-zA-Z0-9_]).
        // \W Любой символ не являющийся подчеркиванием и не относящийся к алфавитно-цифровым
        // \s любой пробельный символ (тоже самое, что [\r\n\f\v\t])
        // \S Любой не пробельный символ (тоже самое, что [^\r\n\f\v\t])
        // \d любая цифра (digit)
        // \D любой не цифровой символ (тоже самое, что [^0-9])

        // \v (вертикальная табуляция)
        // \t (табуляция)
        // \r (перевод каретки)
        // \n (перевод строки)
        // \f (перевод страницы)
        
        // Наборы символов
        // [RrGgBb] - Соответствие указанным символам
        // [a-z] Соответствие символам английского алфавита в нижнем регистре
        // [0-9] Соответствие указанным цифрам
        // [^0-9] Соответствие с чем угодно кроме цифр заданного диапазона
        
        // Квантификатор (Кванторы)
        // + Один или несколько символов
        // * ноль и более символов
        // ? ноль или одно вхождение
        
        // Интервалы
        // {3} точное количество совпадений
        // {2,3} диапазон
        // {3,} не менее
        // {,3}  не более
        
        // Якорные символы
        // ^  Начало строки
        // $  Конец строки
        // \b соответствует границе слова
        
        // Флаги
        // i выполнение поиска не чувствительного к регистру.
        // g выполнение глобального поиска.
        // m многострочный режим.
        
        var regexp = new RegExp("\d\d\d");

        function searchByRegEx() {
            var text = "This string contains number 124";
            var index = text.search(/\d\d\d/);
            document.write("Number at index "+index+" is first number can find by current regExp <br />");
        }

        function replaceByRegEx() {
            var text = "Thi868s st234ring co341ntai765ns so345me te545xt <br />";
            document.write("Old text: " + text);
            text = text.replace(/\d\d\d/g, "REPLACED");
            text = text.replace(" ","_");
            document.write("New text: " + text + "<br />");
        }

        function matchByRegEx() {
            var text = "2 plus 2 equals 4";
            var numbersFromText = text.match(/\d/g);
            document.write(text + " Numbers: " + numbersFromText.toString() + "<br />");
        }

        function splitByRegEx() {
            var text = "Look!2Some9nice8text6here1";
            document.write("Old text: " + text + "<br />");
            var getWhitespaces = text.split(/\d/g);
            document.write("New text: " + getWhitespaces.toString() + "<br />");
        }


        function patternTest() {

            var pattern = /\d\d\d/;

            var input = "hello world";
            if (pattern.test(input)) {
                document.write("Строка " + input + " соответствует шаблону<br />");
            }
            else {
                document.write("Строка " + input + " НЕ соответствует шаблону<br />");
            }

            input = "123";
            if (pattern.test(input)) {
                document.write("Строка " + input + " соответствует шаблону<br />");
            }
            else {
                document.write("Строка " + input + " НЕ соответствует шаблону<br />");
            }
        }

        function patternExec() {
            var test = "Строка №2 для тестирования примера с регулярными выражениями в файле 6_RegExMethods_exec.htm";
            var pattern = /\d/g;

            var res;
            while ((res = pattern.exec(test)) != null) {
                alert("Найдено " + res + " в позиции "
                + res.index + ". Следующий поиск начнется с индекса " + pattern.lastIndex);
            }
        }

        function checkPatterns() {
            // 21-12-1999
            var pattern = /\d{1,2}-\d{1,2}-\d{4}/;
            var text = "21-12-1999";
            document.write(text + " -> " + pattern.test(text) + "<br />");

            // +38 (063) 223-23-23
            pattern = /\+38 \(\d{3}\) \d{3}-\d{2}-\d{2}/;
            text = "+38 (063) 223-23-23";
            document.write(text + " -> " + pattern.test(text) + "<br />");

            // Иванов Иван Иванович
            pattern = /[а-яА-Я]+ [а-яА-Я]+ [а-яА-Я]+/;
            text = "Иванов Иван Иванович";
            document.write(text + " -> " + pattern.test(text) + "<br />");

            // ivanov.ivan@example.com
            pattern = /\b[a-z0-9._]+@[a-z0-9.-]+\.[a-z]{2,4}\b/i;
            text = "ivanov.ivan@example.com";
            document.write(text + " -> " + pattern.test(text) + "<br />");

            // hello.html
            pattern = /\w+\.html/;
            text = "hello.html";
            document.write(text + " -> " + pattern.test(text) + "<br />");

            // http://www.cbsarea.com или https://www.cbsarea.com
            pattern = /https?:\/\/[\w\d:\.:\?\&]+/g;
            text = "http://www.cbsarea.com или https://www.cbsarea.com blah-blah-blah http://www.google.com:80";
            var res;
            while ((res = pattern.exec(text)) != null) {
                document.write("Найдено " + res + " по индексу " + res.index + "<br />");
            }        }












        searchByRegEx();
        replaceByRegEx();
        matchByRegEx();
        splitByRegEx();
        patternTest();
        patternExec();
        checkPatterns();
    </script>
</head>
<body>

</body>
</html>